<div class="fixed top-0 left-1/2 transform -translate-x-1/2 bg-white text-black w-full py-4 z-50 shadow-lg transition-all duration-300 ease-in-out" id="navbar">
    <div class="flex justify-between items-center px-6 md:px-16">
        <div class="text-2xl font-semibold">
            <img src="./images/logo_ato.avif" alt="Logo Ato & PeÃ±a" class="h-10 md:h-12" />
        </div>
        <div class="hidden md:flex gap-8">
            <a href="/" class="hover:text-[#7dc35a] transition-all menu-link" data-link="inicio">Inicio</a>
            <a href="#nosotros" class="hover:text-[#7dc35a] transition-all menu-link" data-link="nosotros">Sobre Nosotros</a>
            <a href="#categoria" class="hover:text-[#7dc35a] transition-all menu-link" data-link="categoria">Productos</a>
        </div>

        <div class="md:hidden">
            <button id="menuButton" class="text-2xl focus:outline-none">
                <i class="fas fa-bars text-black"></i>
            </button>
        </div>
    </div>
  
    <div id="menuMobile" class="hidden md:hidden bg-white text-black w-full py-4 absolute top-16 left-0 shadow-lg transition-all duration-300 ease-in-out">
        <div class="flex flex-col items-center">
            <a href="/" class="py-2 hover:text-[#7dc35a] transition-all menu-link" data-link="inicio">Inicio</a>
            <a href="#nosotros" class="py-2 hover:text-[#7dc35a] transition-all menu-link" data-link="nosotros">Sobre Nosotros</a>
            <a href="#categoria" class="py-2 hover:text-[#7dc35a] transition-all menu-link" data-link="categoria">Productos</a>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const navbar = document.getElementById('navbar');
    
        if (!navbar) return;

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('py-2');
            } else {
                navbar.classList.remove('py-2');
            }

            const sections = document.querySelectorAll('section');
            let currentSection = "";

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;
                if (window.scrollY >= sectionTop - 100 && window.scrollY < sectionBottom) {
                    currentSection = section.getAttribute("id") || "";
                }
            });

            const menuLinks = document.querySelectorAll('.menu-link');
            menuLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute("data-link") === currentSection) {
                    link.classList.add('active');
                }
            });
        });

        const menuButton = document.getElementById('menuButton');
        const menuMobile = document.getElementById('menuMobile');
        
        if (menuButton && menuMobile) {
            menuButton.addEventListener('click', () => {
                menuMobile.classList.toggle('hidden');
            });

            const menuLinks = document.querySelectorAll('.menu-link');
            menuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (menuMobile) {
                        menuMobile.classList.add('hidden');
                    }

                    menuLinks.forEach(l => l.classList.remove('active'));

                    link.classList.add('active');
                });
            });
        }
    });
</script>